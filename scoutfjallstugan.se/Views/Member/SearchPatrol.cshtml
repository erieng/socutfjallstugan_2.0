@using Microsoft.Web.Mvc.Html
@model IEnumerable<scoutfjallstugan.se.Models.Member>

@{
  ViewBag.Title = "Medlemmar";
}

<h2>Medlemmar</h2>

<p>
  @Html.ActionLink("Lägg till ny medlem", "Create")
 
  @using (Html.BeginForm("SearchPatrol", "Member", FormMethod.Get, new { @class = "form-inline" }))
  {   
    <p>
      Patrull: @Html.DropDownList("patrols", "Alla")
      Namn: @Html.TextBox("name")
      Visa ledare: @Html.CheckBox("showLeader")
      <input type="submit" value="Filter" class="btn" />
    </p>
  }
</p>
<table class="table table-striped table-responsive table-condensed">
  <tr>
    <th style="width:15%">Namn
    </th>
    <th class="hidden-xs">Födelsedat
    </th>
    <th>Patrull
    </th>
    <th style="width:10%" class="hidden-xs">Telefon
    </th>
    <th style="width:10%">Mobil
    </th>
    <th class="hidden-xs">E-post
    </th>
    <th class="hidden-xs">Kommentar
    </th>
    <th></th>
  </tr>

  @foreach (var item in Model)
  {
    <tr>
      <td>
        @Html.DisplayFor(modelItem => item.Name) @{if(item.IsLeader == true) {@Html.Raw(" (L)")}}
      </td>
      <td class="hidden-xs">
        @Html.DisplayFor(modelItem => item.BirthDate)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.PatrolName)
      </td>
      <td class="hidden-xs">
        @Html.DisplayFor(modelItem => item.Phone)
      </td>
      <td>
        @Html.DisplayFor(modelItem => item.Mobile)
      </td>
      <td class="hidden-xs">
        @Html.DisplayFor(modelItem => item.Email)
      </td>
      <td class="hidden-xs">
        @Html.DisplayFor(modelItem => item.Comment)
      </td>
      <td>
        <!-- Single button -->
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
            Ändra/Ta bort <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" role="menu">
            <li>@Html.ActionLink("Ändra", "Edit", new { id = item.Id })</li>
            <li> @Html.ActionLink("Visa", "Details", new { id = item.Id }) </li>
            <li> @Html.ActionLink("Ta bort", "Delete", new { id = item.Id })</li>
          </ul>
        </div>
      </td>
    </tr>
  }

</table>
